(this.webpackJsonppwa_weather_app=this.webpackJsonppwa_weather_app||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),s=n(2),i=n.n(s),u=n(3),l=n(4),p=n(15),f=n.n(p),m="https://api.weatherapi.com/v1/current.json?aqi=no",h="69f028e3aab242eaa67170122231510",v=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,c,o,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(m,{params:{q:t,key:h}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(0),navigator.onLine){e.next=35;break}return e.next=13,caches.open("data-cache-v1");case 13:return r=e.sent,c="".concat(m,"?q=").concat(t,"&key=").concat(h),e.next=17,r.match(c);case 17:if((o=e.sent)&&o.ok){e.next=28;break}return e.next=21,r.keys();case 21:if(s=e.sent,!((u=s.filter((function(e){return e.url.includes("weatherapi.com")}))).length>0)){e.next=28;break}return l=u[u.length-1],e.next=27,r.match(l);case 27:o=e.sent;case 28:if(!o||!o.ok){e.next=32;break}return e.next=31,o.json();case 31:return e.abrupt("return",e.sent);case 32:throw new Error("Offline and no cached data available");case 35:throw e.t0;case 36:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),d=(n(39),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({}),s=Object(l.a)(o,2),p=s[0],f=s[1],m=Object(a.useState)(!navigator.onLine),h=Object(l.a)(m,2),d=h[0],w=h[1],b=function(){w(!navigator.onLine)};Object(a.useEffect)((function(){return window.addEventListener("online",b),window.addEventListener("offline",b),function(){window.removeEventListener("online",b),window.removeEventListener("offline",b)}}),[]);var E=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=12;break}return e.prev=1,e.next=4,v(n);case 4:a=e.sent,f(a),c(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Failed to fetch weather",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"main-container"},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type city name...",value:n,onChange:function(e){return c(e.target.value)},onKeyDown:E}),d&&r.a.createElement("div",{className:"offline-message"},"You're currently offline, showing last cached results."),p.location&&r.a.createElement("div",{className:"result"},r.a.createElement("h2",{className:"result-location"},r.a.createElement("span",null,p.location.name),r.a.createElement("sup",null,p.location.country)),r.a.createElement("div",{className:"result-temp"},Math.round(p.current.temp_c),r.a.createElement("sup",null,"\xb0C")),r.a.createElement("div",{className:"result-info"},r.a.createElement("img",{className:"result-city-icon",src:p.current.condition.icon,alt:"weather icon"}),r.a.createElement("p",null,p.current.condition.text))))});o.a.render(r.a.createElement(d,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.487ec0d9.chunk.js.map